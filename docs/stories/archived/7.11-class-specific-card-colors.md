# Story 7.11: Class-Specific Card Color Schemes

## Status: Done

## Story

**As a** player using different character classes,
**I want** cards to have distinct color schemes based on my class,
**so that** each class feels visually unique and cards are easily identifiable.

## Acceptance Criteria

1. Each class has a distinct card color palette
2. Card backgrounds reflect class colors
3. Card borders/accents match class theme
4. Text remains readable against class colors
5. Color schemes applied to all card views (hand, rewards, deck)
6. Universal/neutral cards have a distinct "neutral" color scheme

## Color Palettes (from Character-Image-Prompts.txt)

| Class | Primary | Secondary | Accent |
|-------|---------|-----------|--------|
| **Cleric** | Gold | White, Cream | Soft Amber |
| **Dungeon Knight** | Steel Blue | Iron Grey | Brass |
| **Diabolist** | Crimson | Black | Ember Orange |
| **Oathsworn** | White | Gold | Pale Blue |
| **Fey-Touched** | Emerald | Violet | Dreamlike Pastels |
| **Celestial** | Pure Gold | Radiant White | Prismatic Light |
| **Summoner** | Spirit Blue | Deep Purple | Silver, Spectral Green |
| **Bargainer** | Rich Gold | Blood Red | Shadow Black |

## Tasks / Subtasks

- [x] Define CSS variables for each class (AC: 1)
  - [x] --card-bg-cleric, --card-border-cleric, etc.
  - [x] Repeat for all 8 classes
- [x] Create card background variants (AC: 2)
  - [x] Gradient or solid backgrounds per class
- [x] Style card borders/accents (AC: 3)
  - [x] Border color per class
  - [x] Inner glow or accent elements
- [x] Ensure text readability (AC: 4)
  - [x] Used dark backgrounds with inner glow for all palettes
  - [x] Text colors unchanged (high contrast)
- [x] Apply across all card views (AC: 5)
  - [x] Hand rendering updated with class CSS class
- [x] Design neutral card scheme (AC: 6)
  - [x] For universal/colorless cards

## Dev Notes

### Design Reference
See `/NOTES/Character-Image-Prompts.txt` for detailed color palettes and design direction for each class.

### Implementation Approach
1. Add `classId` or `classColors` to card rendering
2. Apply CSS class based on card's owner class
3. CSS handles the visual differentiation

### Relevant Files
- `src/styles/main.css` - card styling
- `src/ui/renderer.ts` - card rendering
- `src/data/classes.ts` - class definitions

### Testing
- Visual review of all class cards
- Ensure readability in all lighting/states

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-04 | 1.0 | Initial story creation | Sarah (PO) |

---

## Dev Agent Record

### Implementation Summary
Implemented class-specific card color schemes using CSS variables and dynamic class application in the renderer.

### Files Modified
- `src/styles/main.css:1-58` - Added CSS variables for all 9 color palettes (8 classes + neutral):
  - `--card-bg-{class}` - Background gradients
  - `--card-border-{class}` - Border colors
  - `--card-glow-{class}` - Inner glow colors (rgba)
  - `--card-accent-{class}` - Accent colors for cost badges
- `src/styles/main.css:2377-2461` - Added class-specific card styles:
  - `.card.class-cleric`, `.card.class-knight`, `.card.class-diabolist`, `.card.class-oathsworn`
  - `.card.class-fey_touched`, `.card.class-celestial`, `.card.class-summoner`, `.card.class-bargainer`
  - `.card.class-neutral` for universal/colorless cards
  - Each class has variants for attack/skill/power card types
- `src/ui/renderer.ts:762-766` - Applies class CSS class to cards:
  ```typescript
  const cardClassId = card.classId || player.classId || 'neutral';
  const classStyleClass = `class-${cardClassId}`;
  ```
- `src/types/index.ts:116` - CardDefinition has optional `classId` property
- `src/data/cards/*.ts` - All card definitions include `classId: CharacterClassId.{CLASS}`

### Technical Decisions
- Dark backgrounds with inner glow (`box-shadow: inset`) for readability
- Card type (attack/skill/power) uses different border colors within each class palette
- Cost badge uses accent color with dark text for contrast
- Falls back to player's class if card has no classId, then to neutral

### Color Palette Source
Based on `/NOTES/Character-Image-Prompts.txt` design reference:
- Cleric: Gold, White/Cream, Soft Amber
- Knight: Steel Blue, Iron Grey, Brass
- Diabolist: Crimson, Black, Ember Orange
- Oathsworn: White, Gold, Pale Blue
- Fey-Touched: Emerald, Violet, Dreamlike Pastels
- Celestial: Pure Gold, Radiant White, Prismatic
- Summoner: Spirit Blue, Deep Purple, Silver/Green
- Bargainer: Rich Gold, Blood Red, Shadow Black

---

## QA Results

### QA Agent: Claude Opus 4.5
### Date: 2025-12-05
### Status: PASSED

### Acceptance Criteria Verification

| AC | Description | Result | Evidence |
|----|-------------|--------|----------|
| 1 | Each class has distinct color palette | ✅ PASS | main.css:6-57 defines CSS vars for all 8 classes + neutral |
| 2 | Card backgrounds reflect class colors | ✅ PASS | main.css:2378-2461 applies `--card-bg-{class}` via class selectors |
| 3 | Borders/accents match class theme | ✅ PASS | Separate border colors for attack/skill/power per class |
| 4 | Text remains readable | ✅ PASS | Dark backgrounds with inner glow; text colors unchanged (white/light) |
| 5 | Applied to all card views | ✅ PASS | renderer.ts:762-766 applies class via shared `.card` element |
| 6 | Neutral cards have distinct scheme | ✅ PASS | `.card.class-neutral` at main.css:2458-2461 |

### Test Results
- Build: ✅ Successful
- Unit Tests: ✅ 897/897 passed

### Classes Verified
All 8 classes + neutral have unique palettes:
- ✅ Cleric (Gold/Amber)
- ✅ Knight (Steel Blue/Brass)
- ✅ Diabolist (Crimson/Orange)
- ✅ Oathsworn (White/Pale Blue)
- ✅ Fey-Touched (Emerald/Violet)
- ✅ Celestial (Gold/Prismatic)
- ✅ Summoner (Spirit Blue/Silver)
- ✅ Bargainer (Gold/Blood Red)
- ✅ Neutral (Grey)

### Notes
- Implementation uses CSS custom properties for maintainability
- All card definitions include `classId` property for proper styling
