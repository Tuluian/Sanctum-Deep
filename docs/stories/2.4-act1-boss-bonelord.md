# Story 2.4: Act 1 Boss - The Bonelord

## Status: Draft

## Story

**As a** player completing Act 1,
**I want** an epic boss fight against The Bonelord,
**so that** I feel accomplished for surviving the Entrance Halls and ready for Act 2.

---

## Narrative Context: Lord Vexal, the Undying

> *"Three hundred years ago, I was the greatest knight this world had ever seen. I entered seeking immortality. I found it—after a fashion."*

**True Name:** Lord Vexal of the Crimson Banner

**Entry Date:** Approximately 300 years ago

### Who He Was
Lord Vexal was a legendary knight-commander who conquered three kingdoms and never lost a battle. When age began to claim him, he couldn't accept it. A man who had never known defeat refused to accept the ultimate defeat.

He entered the Sanctum seeking the secret to eternal life. The dungeon offered him a bargain: defeat the Warden, and immortality is yours. Vexal failed—but his pride was so absolute that even in failure, something of him remained.

The Hollow God couldn't fully consume him. His sense of self was too strong. Instead, he became a guardian of the Entrance Halls—neither truly alive nor truly dead. He rules over the Forgotten because ruling is all he knows.

### What He's Become
The Bonelord is a tragedy of pride. He doesn't guard the entrance because the Hollow God commands it—he guards it because being a guardian means he still matters. Every adventurer he turns back is proof that he's still the strongest.

He's forgotten *why* he wanted to live forever. The kingdoms he conquered are dust. The people who loved him are bones. He fights now because fighting is all that's left of who he was.

### The Tragedy
Defeating the Bonelord should feel melancholy. He was someone once. Someone important. Now he's just... bones. And the saddest part? Some tiny fragment of Lord Vexal might actually be grateful for release.

---

## Pre-Boss Sequence

**The Warden speaks before the fight:**
> "Lord Vexal was the first to answer my call, centuries ago. He was a proud man. Pride is not always a sin... but his was the kind that breaks worlds. End his suffering, if you can. He was a hero once."

**Boss Introduction:**
The camera pans up a massive throne made of bones. A skeletal figure in ancient, rusted armor sits upon it. Ghostly flames burn in his eye sockets. He speaks:

> "Another would-be champion. How many centuries has it been? You all look the same now. Fragile. Hopeful. *Temporary*."
>
> **[He stands. The throne crumbles behind him.]**
>
> "I am Lord Vexal of the Crimson Banner. I conquered three kingdoms and buried ten thousand foes. You will be... [a pause, genuine confusion] ...I don't remember the number anymore."
>
> **[Combat begins.]**

---

## Acceptance Criteria

1. The Bonelord has 150 HP (significantly more than elites)
2. Boss has 3 distinct phases with different move patterns
3. Boss telegraphs powerful attacks with multi-turn charge-up
4. Boss has a unique mechanic: Bone Throne (summons skeleton minions)
5. Defeating the boss grants significant rewards and unlocks Act 2
6. Boss music/atmosphere feels climactic (future polish)
7. Boss has visible phase indicator and HP thresholds
8. **NEW: Boss has dialogue throughout fight revealing lore**
9. **NEW: Death sequence feels like mercy, not triumph**

## Tasks / Subtasks

- [ ] Design The Bonelord boss (AC: 1, 2, 3, 4)
  - [ ] **The Bonelord** (150 HP)
    - Phase 1 (HP > 66%): Establishing dominance
      - Bone Spike (Attack 10, 35%)
      - Summon Skeletons (Summon 2 Skeletons at 20 HP, 25%)
      - Dark Command (All minions attack, 20%)
      - Necrotic Shield (Gain 12 block, 20%)
    - Phase 2 (HP 33-66%): Aggressive assault
      - Bone Storm (Attack 6 three times, 30%)
      - Death Grip (Attack 8, Apply Bound 1 turn, 25%)
      - Raise Dead (Resurrect dead minions at 50% HP, 25%)
      - Soul Harvest (Attack 12, Heal equal to damage dealt, 20%)
    - Phase 3 (HP < 33%): Desperate fury
      - Bone Cataclysm (Charge 1 turn, then Attack 30, 35%)
      - Final Summon (Summon Bone Archer + Skeleton, 25%)
      - Unholy Vigor (Gain 20 block, +3 Might, 20%)
      - Drain Life (Attack 15, Heal 10, 20%)

- [ ] Implement boss-specific mechanics
  - [ ] 3-phase system with visual transitions
  - [ ] Charge-up attacks (telegraph for X turns, then execute)
  - [ ] Resurrect dead minions ability
  - [ ] "All minions attack" command ability
  - [ ] Bound status effect (cannot play Attack cards)

- [ ] Implement charge-up system
  - [ ] Enemy enters "charging" state with countdown
  - [ ] Show charge intent with turn counter (⚡ Charging... 2 turns)
  - [ ] Execute powerful attack when charge completes
  - [ ] Player can try to kill boss before charge finishes

- [ ] Implement minion command system
  - [ ] Dark Command triggers all minion attacks immediately
  - [ ] Minions use their basic attack when commanded
  - [ ] Works with any summoned enemies

- [ ] Update UI for boss fight
  - [ ] Boss health bar (larger, more prominent)
  - [ ] Phase indicator (I / II / III)
  - [ ] Charge-up counter display
  - [ ] Boss name plate with "BOSS" label
  - [ ] Screen effects on phase transition (optional polish)

- [ ] Implement boss rewards
  - [ ] Large gold reward (100+ gold)
  - [ ] Choice of rare card
  - [ ] Boss relic (unique item, one per boss)
  - [ ] Act 2 unlock

- [ ] Design Bonelord's Relic
  - [ ] **Skull of the Bonelord**: Start each combat with 5 block. Gain 1 block whenever an enemy dies.

- [ ] Write unit tests
  - [ ] Test boss has 150 HP
  - [ ] Test phase transitions at 66% and 33% HP
  - [ ] Test charge-up countdown works correctly
  - [ ] Test charged attack deals 30 damage
  - [ ] Test Dark Command triggers minion attacks
  - [ ] Test Raise Dead resurrects fallen minions
  - [ ] Test Bound prevents playing Attack cards

## Dev Notes

### Boss Design Philosophy

The Bonelord teaches players:
- Managing multiple enemies (summoned skeletons)
- Recognizing dangerous charge-up attacks
- Prioritizing targets (kill minions vs focus boss)
- Resource management over a long fight
- **That victory is sometimes mercy**

---

## Phase Dialogue & Narrative Moments

### Phase 1: Dominance (HP > 100)
*"Establishing dominance. He still believes he can win easily."*

**Move Dialogue:**
- Bone Spike: *"A simple lesson. You are mortal. I am not."*
- Summon Skeletons: *"Rise. Serve your lord once more."*
- Dark Command: *"Destroy them. As I destroyed their ancestors."*
- Necrotic Shield: *"You cannot touch me. No one can touch me."*

**On Taking Damage:** *"Pain? I remember pain. It feels almost like being alive."*

### Phase 2: Assault (HP 50-100)
*"Transition: Vexal realizes this might be a real fight."*

**Phase Transition Dialogue:**
> "You're... stronger than most. I had almost forgotten what a real battle felt like. Very well. No more games."

**Move Dialogue:**
- Bone Storm: *"THREE KINGDOMS FELL TO THIS TECHNIQUE!"*
- Death Grip: *"Hold still. Let me remember your face. I want to remember something."*
- Raise Dead: *"Get up! I didn't give you permission to rest!"*
- Soul Harvest: *"Your life. Give it to me. I NEED it."*

**On Taking Damage:** *"Yes... YES. Fight back. Make me feel SOMETHING."*

### Phase 3: Fury (HP < 50)
*"Transition: Lord Vexal begins to break. Confusion sets in."*

**Phase Transition Dialogue:**
> "I... I can't remember why I'm here. Why am I fighting? There was a reason. There was... someone I wanted to return to. Wasn't there?"
>
> **[The flames in his eyes flicker wildly.]**
>
> "No. NO. I am Lord Vexal! I am IMMORTAL! I WILL NOT FALL!"

**Move Dialogue:**
- Bone Cataclysm (Charging): *"All of you. ALL OF YOU. You took everything from me. My kingdoms. My name. My PURPOSE."*
- Bone Cataclysm (Executing): *"WITNESS THE LEGACY OF LORD VEXAL!"*
- Final Summon: *"Fight for me! Someone has to remember! SOMEONE HAS TO—"*
- Unholy Vigor: *"I REFUSE. I REFUSE. I REFUSE."*

**On Taking Damage:** *"Stop. Please. I don't... I don't want to forget..."*

---

## Death Sequence

When the Bonelord's HP reaches 0:

> **[His skeletal form cracks. The flames in his eyes dim to embers.]**
>
> "I... I can see it now. The crimson banner. My soldiers. Their faces..."
>
> **[He falls to one knee. His voice becomes quieter, almost gentle.]**
>
> "I was so close to escaping this place. So close. I just needed... one more victory. Always... one more..."
>
> **[The flames extinguish.]**
>
> "Was it worth it? The kingdoms? The glory? I can't remember. I can't remember any of their names. Not one."
>
> **[He reaches toward the player, a gesture that could be threat or plea.]**
>
> "Thank you. For ending it. For... making me feel... like a battle mattered... one... last..."
>
> **[Lord Vexal crumbles. The Entrance Halls fall silent. Somewhere, the Warden sighs.]**

---

## Post-Boss: The Warden Speaks

> "Lord Vexal of the Crimson Banner. He was a legend once. Now he's just... gone."
>
> "Remember this, champion: immortality isn't a gift. It's a sentence. The Sanctum offers power, but power without purpose is its own prison."
>
> "The path to Act 2 opens. The Drowned King awaits. He was my friend once."
>
> "[a pause]"
>
> "I wonder if you'll be my friend too. Before the end."

---

## Class-Specific Moments

### Cleric
- On Vexal's death: *"You could have healed him. There are some wounds even light cannot reach."*
- Warden's advice: *"The Cleric who came before you tried to save him. She learned that some mercy is sharper than any sword."*

### Dungeon Knight
- During Phase 2, Vexal recognizes something: *"Your stance... the Sealed Gate taught you. They trained me too, you know. Before. When I was... when I had a name that wasn't Lord."*
- Warden's advice: *"The Order of the Sealed Gate studied Lord Vexal's techniques. You fight with his legacy. Fitting that you ended it."*

---

### Phase Transitions

```typescript
const BONELORD: BossDefinition = {
  id: 'bonelord',
  name: 'The Bonelord',
  maxHp: 150,
  isBoss: true,
  phaseThresholds: [0.66, 0.33], // Phase 2 at 66%, Phase 3 at 33%
  phases: [
    { name: 'Dominance', moves: [...] },
    { name: 'Assault', moves: [...] },
    { name: 'Fury', moves: [...] }
  ]
};
```

### Charge-Up Mechanic

```typescript
interface ChargingState {
  turnsRemaining: number;
  chargedMove: EnemyMove;
}

// In enemy state
interface Enemy {
  // ... existing
  charging?: ChargingState;
}

// Intent display for charging
function getIntentDisplay(enemy: Enemy): string {
  if (enemy.charging) {
    return `⚡ ${enemy.charging.chargedMove.name} in ${enemy.charging.turnsRemaining}`;
  }
  return normalIntentDisplay(enemy);
}
```

### Bound Status Effect

```typescript
// Bound: Cannot play Attack cards
function canPlayCard(card: Card): boolean {
  if (hasStatus(player, 'BOUND') && card.type === CardType.ATTACK) {
    return false;
  }
  return card.cost <= player.resolve;
}
```

### Boss Fight Flow

1. Combat starts with just The Bonelord
2. Phase 1: Boss summons skeletons, player manages threats
3. Phase 2: Boss becomes aggressive, uses Bone Storm
4. Phase 3: Boss charges Bone Cataclysm (30 damage!)
5. Victory: Boss defeated, rewards screen

### Visual Hierarchy

```
+------------------------------------------+
|     ☠️ THE BONELORD - PHASE II ☠️       |
|     [====████████████====] 98/150       |
|     ⚔️⚔️⚔️ Bone Storm (6x3)             |
+------------------------------------------+
|  [Skeleton]    [Skeleton]                |
|   15/20        12/20                     |
+------------------------------------------+
```

## Testing

### Test File Location
`src/tests/bosses/Bonelord.test.ts`

### Key Test Scenarios

1. **Boss Stats**: 150 HP, correct phase thresholds
2. **Phase 1 Moves**: Uses Phase 1 moves above 66% HP
3. **Phase 2 Transition**: Switches at 66% HP
4. **Phase 3 Transition**: Switches at 33% HP
5. **Charge Attack**: Bone Cataclysm charges 1 turn, deals 30
6. **Summon**: Creates Skeleton enemies correctly
7. **Dark Command**: All minions attack player
8. **Raise Dead**: Resurrects killed minions
9. **Bound Effect**: Player cannot play Attack cards

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2024-12-03 | 1.0 | Initial story creation | James (Dev) |

---

## Dev Agent Record

### Agent Model Used
_To be filled by dev agent_

### Debug Log References
_To be filled by dev agent_

### Completion Notes List
_To be filled by dev agent_

### File List
_To be filled by dev agent_

---

## QA Results
_To be filled by QA agent_
